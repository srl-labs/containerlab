hostname {{ .Hostname }}
!
username {{ .Username }} privilege 15 password {{ .Password }}
!
ip domain name lab
!
no ip domain-lookup
!
line con 0
logging synchronous
exec timeout 0 0
!
line vty 0 4
logging synchronous
login local
transport input all
exec timeout 0 0
!
ipv6 unicast-routing
!
vrf definition clab-mgmt
description Containerlab management VRF (DO NOT DELETE)
address-family ipv4
exit
address-family ipv6
exit
exit
!
ip route vrf clab-mgmt 0.0.0.0 0.0.0.0 {{ .MgmtIPv4GW }}
ipv6 route vrf clab-mgmt ::/0 {{ .MgmtIPv6GW }}
!
interface GigabitEthernet0/0
description Containerlab management interface
{{ if .IsL2Node }}
no switchport
{{ end }}
vrf forwarding clab-mgmt
description clab-mgmt
ip address {{ .MgmtIPv4Addr }} {{ .MgmtIPv4SubnetMask }}
ipv6 address {{ .MgmtIPv6Addr }}/{{ .MgmtIPv6PrefixLen }}
no shutdown
exit
!
crypto key generate rsa modulus 2048
ip ssh version 2
!
netconf ssh
netconf max-sessions 16
snmp-server community public rw
!
no banner exec
no banner login
no banner incoming
!
{{ .PartialCfg }}
end