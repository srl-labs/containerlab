configure system grpc admin-state enable
configure system security user-params local-user user "admin" access grpc true
configure system security tls cert-profile "grpc-tls-certs" entry 1 certificate-file "node.crt"
configure system security tls cert-profile "grpc-tls-certs" entry 1 key-file "node.key"
configure system security tls cert-profile "grpc-tls-certs" admin-state enable

configure system security tls server-cipher-list "all" tls12-cipher 1 name tls-rsa-with3des-ede-cbc-sha
configure system security tls server-cipher-list "all" tls12-cipher 2 name tls-rsa-with-aes128-cbc-sha
configure system security tls server-cipher-list "all" tls12-cipher 3 name tls-rsa-with-aes128-cbc-sha256
configure system security tls server-cipher-list "all" tls12-cipher 4 name tls-rsa-with-aes256-cbc-sha
configure system security tls server-cipher-list "all" tls12-cipher 5 name tls-rsa-with-aes256-cbc-sha256
configure system security tls server-cipher-list "all" tls12-cipher 6 name tls-rsa-with-aes128-gcm-sha256
configure system security tls server-cipher-list "all" tls12-cipher 7 name tls-rsa-with-aes256-gcm-sha384
configure system security tls server-cipher-list "all" tls12-cipher 8 name tls-ecdhe-rsa-aes128-gcm-sha256
configure system security tls server-cipher-list "all" tls12-cipher 9 name tls-ecdhe-rsa-aes256-gcm-sha384
configure system security tls server-cipher-list "all" tls13-cipher 1 name tls-aes128-gcm-sha256
configure system security tls server-cipher-list "all" tls13-cipher 2 name tls-aes256-gcm-sha384
configure system security tls server-cipher-list "all" tls13-cipher 3 name tls-chacha20-poly1305-sha256
configure system security tls server-cipher-list "all" tls13-cipher 4 name tls-aes128-ccm-sha256
configure system security tls server-cipher-list "all" tls13-cipher 5 name tls-aes128-ccm8-sha256


configure system security tls server-tls-profile "grpc-tls" cert-profile "grpc-tls-certs"
configure system security tls server-tls-profile "grpc-tls" cipher-list "all"
configure system security tls server-tls-profile "grpc-tls" admin-state enable
configure system grpc tls-server-profile "grpc-tls"
configure system grpc gnmi auto-config-save true
configure system grpc rib-api admin-state enable
